(()=>{function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}console.log("content.js scraper is live"),chrome.runtime.onMessage.addListener((function(r,n,t){if("scanJobPosting"===r.action){var a=function(){var e=document.querySelector(".modal__content.height--100.overflow--hidden");if(!e)return console.warn("Selector not found"),{};var r=e.querySelectorAll(".tag__key-value-list.js--question--container"),n={};return r.forEach((function(e){var r=e.querySelector("span.label");if(r){var t,a=r.innerText.trim().replace(/:$/,""),i=Array.from(e.querySelectorAll("p, li")).map((function(e){return e.innerText.trim()})).filter(Boolean);if(i.length)t=i.join("\n\n");else{var o=e.innerText.split("\n").map((function(e){return e.trim()})).filter(Boolean);o[0]===a+":"&&o.shift(),t=o.join("\n\n")}n[a]=t}})),n}();console.log("✅ Job Data sent to popup:",a),t(a);var i=function(r){for(var n=r["Job Title"]||"",t=r.Organization||"",a=n.toLowerCase(),i=new Set,o=0,l=Object.entries({software:["Software Engineer","Technical Recruiter","Engineering Manager"],finance:["Finance Analyst","Portfolio Manager","Investment Analyst","Finance Recruiter"],investment:["Investment Analyst","Wealth Manager","Financial Advisor","Recruiter"],product:["Product Manager","Product Owner","Technical Recruiter"],data:["Data Scientist","ML Engineer","Analytics Manager","Data Recruiter"],design:["UX Designer","Product Designer","Design Manager","Recruiter"],legal:["Legal Counsel","Compliance Officer","Legal Recruiter"],marketing:["Marketing Manager","Digital Strategist","Marketing Recruiter"],sales:["Sales Manager","Account Executive","Sales Recruiter"],accounting:["Accountant","Controller","Accounting Recruiter"]});o<l.length;o++){var c=(f=l[o],g=2,function(e){if(Array.isArray(e))return e}(f)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(t=i.call(n)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(f,g)||function(r,n){if(r){if("string"==typeof r)return e(r,n);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e(r,n):void 0}}(f,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1];a.includes(u)&&s.forEach((function(e){return i.add(e)}))}var f,g;0===i.size&&(i.add("Recruiter"),i.add("Hiring Manager"));var d={title:Array.from(i),organization_name:t.trim()};return console.log("✅ extractQueryParams →",d),d}(a);console.log(i)}})),observer.observe(document.body,{childList:!0,subtree:!0})})();