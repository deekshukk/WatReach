(()=>{function e(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}console.log("content.js scraper is live"),chrome.runtime.onMessage.addListener((function(n,t,r){if("scanJobPosting"===n.action){var a=function(){var e=document.querySelector(".modal__content.height--100.overflow--hidden");if(!e)return console.warn("Selector not found"),{};var n=e.querySelectorAll(".tag__key-value-list.js--question--container"),t={};return n.forEach((function(e){var n=e.querySelector("span.label");if(n){var r,a=n.innerText.trim().replace(/:$/,""),o=Array.from(e.querySelectorAll("p, li")).map((function(e){return e.innerText.trim()})).filter(Boolean);if(o.length)r=o.join("\n\n");else{var i=e.innerText.split("\n").map((function(e){return e.trim()})).filter(Boolean);i[0]===a+":"&&i.shift(),r=i.join("\n\n")}t[a]=r}})),t}();console.log("âœ… Job Data sent to popup:",a),r(a);var o=function(n){for(var t=n["Job Title"]||"",r=n.Organization||"",a=t.toLowerCase(),o=new Set,i=0,c=Object.entries({software:["Software Engineer","Technical Recruiter","Engineering Manager"],finance:["Finance Analyst","Portfolio Manager","Investment Analyst","Finance Recruiter"],investment:["Investment Analyst","Wealth Manager","Financial Advisor","Recruiter"],product:["Product Manager","Product Owner","Technical Recruiter"],data:["Data Scientist","ML Engineer","Analytics Manager","Data Recruiter"],design:["UX Designer","Product Designer","Design Manager","Recruiter"],legal:["Legal Counsel","Compliance Officer","Legal Recruiter"],marketing:["Marketing Manager","Digital Strategist","Marketing Recruiter"],sales:["Sales Manager","Account Executive","Sales Recruiter"],accounting:["Accountant","Controller","Accounting Recruiter"]});i<c.length;i++){var l=(f=c[i],g=2,function(e){if(Array.isArray(e))return e}(f)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==n);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(f,g)||function(n,t){if(n){if("string"==typeof n)return e(n,t);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(n,t):void 0}}(f,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],s=l[1];a.includes(u)&&s.forEach((function(e){return o.add(e)}))}var f,g;0===o.size&&(o.add("Recruiter"),o.add("Hiring Manager"));var d={title:Array.from(o),organization_name:r.trim()};return console.log("âœ… extractQueryParams â†’",d),d}(a);console.log(o)}})),new MutationObserver((function(){var e=document.querySelector(".modal__content.height--100.overflow--hidden"),n=document.getElementById("watreach-btn");e&&!n&&(console.log("ðŸŸ¢ Modal detected, injecting button..."),injectWatReachButton(e))})).observe(document.body,{childList:!0,subtree:!0})})();